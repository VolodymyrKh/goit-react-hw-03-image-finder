{"version":3,"sources":["Components/Button/Button.module.css","Components/App.module.css","Components/ImageGallery/ImageGallery.module.css","Components/SearchBar/SearchBar.module.css","Components/SearchBar/SearchBar.js","Components/Error/Error.js","Components/Services/Api.js","Components/Button/Button.js","Components/Modal/Modal.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/ImageGallery/ImageGallery.js","Components/App.js","index.js","Components/Modal/Modal.module.css","Components/ImageGalleryItem/ImageGalleryItem.module.css"],"names":["module","exports","SearchBar","state","query","handleChange","e","setState","target","value","handleSubmit","preventDefault","props","onChangeQuery","this","className","styles","Searchbar","onSubmit","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","Error","text","BASE_URL","KEY","TYPE","fetchImages","pageNr","axios","get","Button","onChangePageNr","onClick","Modal","overlayRef","createRef","handleKeyPress","code","onCloseModal","handleOverlayClick","current","window","addEventListener","removeEventListener","ref","Overlay","src","image","alt","ImageGalleryItem","webformatURL","onOpenModal","ImageGalleryItemImage","ImageGallery","images","map","id","largeImageURL","key","App","isLoading","isOpenModal","currentLargeImageURL","error","handleChangeQuery","handleChangePageNr","openModal","closeModal","prevProps","prevState","ImageAPI","then","data","hits","catch","finally","scrollTo","top","document","documentElement","scrollHeight","behavior","message","Center","color","height","width","length","defaultProps","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.2f4233fb.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__31YAQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Center\":\"App_Center__3VpgD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__Vj65k\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__1bfOz\",\"SearchForm\":\"SearchBar_SearchForm__3wIWO\",\"SearchFormButton\":\"SearchBar_SearchFormButton__voyca\",\"SearchFormButtonLabel\":\"SearchBar_SearchFormButtonLabel__3YCXP\",\"SearchFormInput\":\"SearchBar_SearchFormInput__3d3vg\"};","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport styles from './SearchBar.module.css';\r\n\r\nexport default class SearchBar extends Component {\r\n  static propTypes = {\r\n    onChangeQuery: PropTypes.func.isRequired,\r\n  };\r\n\r\n  state = { query: '' };\r\n\r\n  handleChange = e => {\r\n    this.setState({ query: e.target.value });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    this.props.onChangeQuery(this.state.query);\r\n  };\r\n\r\n  render() {\r\n    const { query } = this.state;\r\n    return (\r\n      <header className={styles.Searchbar}>\r\n        <form onSubmit={this.handleSubmit} className={styles.SearchForm}>\r\n          <button type=\"submit\" className={styles.SearchFormButton}>\r\n            <span className={styles.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={styles.SearchFormInput}\r\n            type=\"text\"\r\n            value={query}\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            onChange={this.handleChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Error = ({ text }) => <h2>Something is wrong: {text}</h2>;\r\n\r\nError.propTypes ={\r\n    text: PropTypes.string.isRequired\r\n}\r\nexport default Error;\r\n","import axios from 'axios';\r\n\r\nconst BASE_URL = 'https://pixabay.com/api/?q=';\r\nconst KEY = '15336169-fb8ecea9b4c4a863b6c6a9193';\r\nconst TYPE = '&image_type=photo&orientation=horizontal&per_page=12';\r\n\r\nexport const fetchImages = (query = 'space', pageNr = 1) =>\r\n  axios.get(BASE_URL + query + '&page=' + pageNr + '&key=' + KEY + TYPE);\r\n\r\n\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Button.module.css';\r\n\r\nconst Button = ({ onChangePageNr }) => (\r\n  <button type=\"button\" onClick={onChangePageNr} className={styles.Button}>\r\n    Load more\r\n  </button>\r\n);\r\n\r\nButton.propTypes = {\r\n  onChangePageNr: PropTypes.func.isRequired,\r\n};\r\nexport default Button;\r\n","import React, { Component, createRef } from 'react';\r\nimport styles from './Modal.module.css';\r\n\r\nexport default class Modal extends Component {\r\n  overlayRef = createRef();\r\n\r\n  handleKeyPress = e => {\r\n    if (e.code !== 'Escape') return;\r\n    this.props.onCloseModal();\r\n  };\r\n\r\n  handleOverlayClick = e => {\r\n      const {current} = this.overlayRef;\r\n    if (current && e.target !== current) return;\r\n    this.props.onCloseModal();\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyPress);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyPress);\r\n  }\r\n\r\n  render() {\r\n    \r\n    return (\r\n      <div\r\n        ref={this.overlayRef}\r\n        onClick={this.handleOverlayClick}\r\n        className={styles.Overlay}\r\n      >\r\n        <div className={styles.Modal}>\r\n          <img src={this.props.image} alt=\"\" />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './ImageGalleryItem.module.css';\r\n\r\nconst ImageGalleryItem = ({ webformatURL, onOpenModal }) => (\r\n  <li className={styles.ImageGalleryItem}>\r\n    <img\r\n      src={webformatURL}\r\n      alt=\"img\"\r\n      onClick={onOpenModal}\r\n      className={styles.ImageGalleryItemImage}\r\n    />\r\n  </li>\r\n);\r\n\r\nImageGalleryItem.propTypes = {\r\n  onOpenModal: PropTypes.func.isRequired,\r\n};\r\nexport default ImageGalleryItem;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './ImageGallery.module.css';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\n\r\nconst ImageGallery = ({ images, onOpenModal }) => (\r\n  <ul className={styles.ImageGallery}>\r\n    {images.map(({ id, largeImageURL, ...image }) => (\r\n      <ImageGalleryItem\r\n        key={id}\r\n        {...image}\r\n        onOpenModal={() => onOpenModal(largeImageURL)}\r\n      />\r\n    ))}\r\n  </ul>\r\n);\r\n\r\nImageGallery.propTypes = {\r\n  onOpenModal: PropTypes.func.isRequired,\r\n};\r\nexport default ImageGallery;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport SearchBar from './SearchBar/SearchBar';\r\nimport Error from './Error/Error.js';\r\nimport * as ImageAPI from './Services/Api';\r\nimport Loader from 'react-loader-spinner';\r\nimport Button from './Button/Button';\r\nimport Modal from './Modal/Modal';\r\nimport styles from './App.module.css';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\nimport ImageGallery from './ImageGallery/ImageGallery';\r\n\r\nexport default class App extends Component {\r\n  static defaultProps = {\r\n    images: [],\r\n    isLoading: false,\r\n    isOpenModal: false,\r\n    currentLargeImageURL: '',\r\n    error: null,\r\n    query: '',\r\n    pageNr: 1,\r\n  };\r\n\r\n  static propTypes = {\r\n    images: PropTypes.arrayOf(\r\n      PropTypes.shape({\r\n        id: PropTypes.number.isRequired,\r\n        webformatURL: PropTypes.string.isRequired,\r\n        largeImageURL: PropTypes.string.isRequired,\r\n      }).isRequired,\r\n    ).isRequired,\r\n    isLoading: PropTypes.bool.isRequired,\r\n    isOpenModal: PropTypes.bool.isRequired,\r\n    currentLargeImageURL: PropTypes.string.isRequired,\r\n    query: PropTypes.string.isRequired,\r\n    pageNr: PropTypes.number.isRequired,\r\n  };\r\n\r\n  state = {\r\n    images: this.props.images,\r\n    isLoading: this.props.isLoading,\r\n    isOpenModal: this.props.isLoading,\r\n    currentLargeImageURL: this.props.currentLargeImageURL,\r\n    error: this.props.error,\r\n    query: this.props.query,\r\n    pageNr: this.props.pageNr,\r\n  };\r\n\r\n  handleChangeQuery = query => {\r\n    this.setState({\r\n      query,\r\n      pageNr: 1,\r\n    });\r\n  };\r\n\r\n  handleChangePageNr = () => {\r\n    this.setState(state => ({\r\n      pageNr: this.state.pageNr + 1,\r\n    }));\r\n  };\r\n\r\n  openModal = largeImageURL => {\r\n    this.setState({ isOpenModal: true, currentLargeImageURL: largeImageURL });\r\n  };\r\n\r\n  closeModal = () => {\r\n    this.setState({ isOpenModal: false });\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevState.query !== this.state.query) {\r\n      this.setState({ isLoading: true });\r\n      ImageAPI.fetchImages(this.state.query, this.state.pageNr)\r\n        .then(({ data }) => {\r\n          this.setState({ images: data.hits });\r\n        })\r\n        .catch(error => this.setState({ error }))\r\n        .finally(() => this.setState({ isLoading: false }));\r\n    } else if (prevState.pageNr !== this.state.pageNr) {\r\n      this.setState({ isLoading: true });\r\n      ImageAPI.fetchImages(this.state.query, this.state.pageNr)\r\n        .then(({ data }) => {\r\n          this.setState(state => ({ images: [...state.images, ...data.hits] }));\r\n          window.scrollTo({\r\n            top: document.documentElement.scrollHeight,\r\n            behavior: 'smooth',\r\n          });\r\n        })\r\n        .catch(error => this.setState({ error }))\r\n        .finally(() => {\r\n          this.setState({ isLoading: false });\r\n        });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      images,\r\n      isLoading,\r\n      error,\r\n      isOpenModal,\r\n      currentLargeImageURL,\r\n    } = this.state;\r\n\r\n    return (\r\n      <>\r\n        <SearchBar onChangeQuery={this.handleChangeQuery} />\r\n        {error && <Error text={error.message} />}\r\n\r\n        {isLoading && (\r\n          <div className={styles.Center}>\r\n            <Loader type=\"Bars\" color=\"#1E90FF\" height={150} width={150} />\r\n          </div>\r\n        )}\r\n\r\n        {images.length > 0 && (\r\n          <>\r\n            <ImageGallery images={images} onOpenModal={this.openModal} />\r\n            <Button onChangePageNr={this.handleChangePageNr} />\r\n          </>\r\n        )}\r\n\r\n        {isOpenModal && (\r\n          <Modal image={currentLargeImageURL} onCloseModal={this.closeModal} />\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './Components/App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__dAslR\",\"Modal\":\"Modal_Modal__ad6RJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1G0vB\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__3VM6E\",\"ImageGalleryItemIimage\":\"ImageGalleryItem_ImageGalleryItemIimage__3mllv\"};"],"sourceRoot":""}